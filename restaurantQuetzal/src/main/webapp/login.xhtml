<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>
        <title>Login</title>
        <script>
		    //<![CDATA[
		        PF('statusDialog').show();
		
		        PF('statusDialog').hide();
		    //]]>
		</script>
    </h:head>

    <h:body styleClass="login-body">
    	<h:form id="login_form">
	    	<p:growl id="growl" life="5000" />
	    	<p:dialog modal="true" widgetVar="statusDialog" header="Verificando usuario..." draggable="false" closable="false" resizable="false">
				<div align="center">
		              <i class="pi pi-spinner pi-spin" style="font-size:3rem;"></i>
				</div>
		    </p:dialog>
	        <div id="login-wrapper">
	            <p:graphicImage name="images/login.png" library="omega-layout" style="width:100%"/>
	            
	            <div id="login-container">
	                <span class="title">Iniciar sesión</span>

	                <div class="p-grid ui-fluid">
	                    <div class="p-col-12">
	                        <p:inputText placeholder="Usuario" id="usuario" required="true" requiredMessage="Usuario requerido." value="#{loginBean.username}"/>
	                        <p:message for="usuario"/>
	                    </div>
	                    <div class="p-col-12">
	                        <p:password placeholder="Contraseña" id="contraseña" required="true" feedback="false" value="#{loginBean.password}" requiredMessage="Contraseña requerida." />
	                        <p:message for="contraseña" />
	                    </div>
	                    <div class="p-col-12">
	                        <p:commandButton value="Iniciar sesión" icon="pi pi-user" action="#{loginBean.login}" process="@this login_form" update="login_form" onclick="PF('statusDialog').show();" oncomplete="PF('statusDialog').hide();"/>
	                    </div>
	                </div>
	            </div>
        </div>
    	</h:form>

        <h:outputStylesheet name="css/primeicons.css" library="omega-layout"/>
        <h:outputStylesheet name="css/primeflex.min.css" library="omega-layout"/>
        <h:outputStylesheet name="css/layout-#{guestPreferences.layout}.css" library="omega-layout"/>
    </h:body>

</html>
